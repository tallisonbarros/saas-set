{% extends "core/base.html" %}
{% load static %}

{% block title %}Painel{% endblock %}

{% block content %}
  <div class="page-logo">
    <img class="logo logo-small" src="{% static 'core/logoset.png' %}" alt="Logo">
  </div>
  <div class="page-panel-link">
    <a class="btn btn-ghost icon-only" href="{% url 'painel' %}" title="Painel" aria-label="Painel">
      <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M4 11.5L12 4l8 7.5v7.5a1 1 0 0 1-1 1h-4.5v-6h-5v6H5a1 1 0 0 1-1-1z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round" stroke-linecap="round"></path>
      </svg>
    </a>
  </div>
  <section class="card panel-shell">
    <div class="page-hud panel-hud">
      <div class="hud-top">
        <div class="hud-title">Painel de Controle</div>
        <form method="post" action="{% url 'logout' %}">
          {% csrf_token %}
          <button class="btn btn-ghost btn-compact" type="submit">Sair</button>
        </form>
      </div>
      <div class="page-hud-head panel-hero-head">
        <div>
          <div class="page-kicker">Plataforma SET</div>
          <h1 class="page-title">Bem vindo {{ request.user.first_name|default:request.user.username }}</h1>
          <p class="page-subtitle">
            Centralize proposta, engenharia e financeiro em um unico fluxo. Ganhe visibilidade de custos,
            cronogramas e status tecnico com decisao rapida e segura.
          </p>
        </div>
        <div class="page-actions"></div>
      </div>
      <div class="panel-hero-grid">
        <div class="panel-hero-card">
          <div class="panel-hero-title">Fluxo comercial</div>
          <div class="panel-hero-text">Da proposta a aprovacao com rastreio completo.</div>
        </div>
        <div class="panel-hero-card">
          <div class="panel-hero-title">Engenharia conectada</div>
          <div class="panel-hero-text">Listas de IO, modulos e status da planta em um mapa unico.</div>
        </div>
        <div class="panel-hero-card">
          <div class="panel-hero-title">Controle financeiro</div>
          <div class="panel-hero-text">Compras, cadernos e custos amarrados ao projeto.</div>
        </div>
      </div>
    </div>

    <div class="panel-section">
      <div class="panel-section-head">
        <div>
          <div class="panel-section-title">Modulos de operacao</div>
          <div class="panel-section-subtitle">Escolha um modulo para iniciar sua rotina.</div>
        </div>
      </div>
      <div class="panel-grid panel-grid-spaced">
        {% if is_cliente or role == "ADMIN" %}
          <a class="panel-card" href="{% url 'propostas' %}" style="--delay: 0.05s;">
            <div class="panel-card-top">
              <div class="panel-title">Propostas</div>
              <span class="panel-tag active">Ativo</span>
            </div>
            <div class="muted">Pipeline de aprovacoes e acompanhamento.</div>
            <div class="panel-meta">Status, valores e decisoes em um fluxo unico.</div>
          </a>
        {% endif %}
        {% if is_financeiro %}
          <a class="panel-card" href="{% url 'financeiro' %}" style="--delay: 0.1s;">
            <div class="panel-card-top">
              <div class="panel-title">Financeiro</div>
              <span class="panel-tag active">Ativo</span>
            </div>
            <div class="muted">Compras, gastos e controle por periodo.</div>
            <div class="panel-meta">Consolide custos e orcamentos por projeto.</div>
          </a>
        {% endif %}
        <a class="panel-card" href="{% url 'ios_list' %}" style="--delay: 0.15s;">
          <div class="panel-card-top">
            <div class="panel-title">Listas de IOs</div>
            <span class="panel-tag active">Ativo</span>
          </div>
          <div class="muted">Crie, revise e mantenha IOs atualizados.</div>
          <div class="panel-meta">Estruture canais, racks e enderecos.</div>
        </a>
        <div class="panel-card panel-disabled" style="--delay: 0.2s;">
          <div class="panel-card-top">
            <div class="panel-title">Listas de IPs</div>
            <span class="panel-tag">Em breve</span>
          </div>
          <div class="muted">Controle de rede e acesso por projeto.</div>
          <div class="panel-meta">Mapa de enderecos e permissoes.</div>
        </div>
        <div class="panel-card panel-disabled" style="--delay: 0.25s;">
          <div class="panel-card-top">
            <div class="panel-title">Inventario da fabrica</div>
            <span class="panel-tag">Em breve</span>
          </div>
          <div class="muted">Catalogo de motores, valvulas e equipamentos.</div>
          <div class="panel-meta">Mapa de ativos com status e historico tecnico.</div>
        </div>
        <div class="panel-card panel-disabled" style="--delay: 0.3s;">
          <div class="panel-card-top">
            <div class="panel-title">Nuvem de projetos</div>
            <span class="panel-tag">Em breve</span>
          </div>
          <div class="muted">Arquivos tecnicos, historicos e revisoes.</div>
          <div class="panel-meta">Tudo sincronizado por equipe e cliente.</div>
        </div>
        <div class="panel-card panel-disabled" style="--delay: 0.35s;">
          <div class="panel-card-top">
            <div class="panel-title">Planta conectada</div>
            <span class="panel-tag">Em breve</span>
          </div>
          <div class="muted">Monitoramento de automacao e sensores.</div>
          <div class="panel-meta">Alertas, telemetria e indicadores operacionais.</div>
        </div>
      </div>
    </div>

    {% if role == "ADMIN" %}
      <div class="panel-section">
        <div class="panel-section-head">
          <div>
            <div class="panel-section-title">Modulo administrativo</div>
            <div class="panel-section-subtitle">Ferramentas avancadas para governanca.</div>
          </div>
        </div>
        <div class="panel-grid panel-grid-spaced">
          <a class="panel-card" href="/admin/" style="--delay: 0.05s;">
            <div class="panel-card-top">
              <div class="panel-title">Administracao</div>
              <span class="panel-tag active">Ativo</span>
            </div>
            <div class="muted">Gerencie dados nucleares do sistema.</div>
            <div class="panel-meta">Acesso completo a cadastros.</div>
          </a>
          <a class="panel-card" href="{% url 'ajustes_sistema' %}" style="--delay: 0.1s;">
            <div class="panel-card-top">
              <div class="panel-title">Configuracoes do sistema</div>
              <span class="panel-tag active">Ativo</span>
            </div>
            <div class="muted">Parametros gerais e cadastros base.</div>
            <div class="panel-meta">Controle de perfis e permissoes.</div>
          </a>
          <a class="panel-card" href="/admin/explorar/" style="--delay: 0.15s;">
            <div class="panel-card-top">
              <div class="panel-title">Explorar</div>
              <span class="panel-tag active">Ativo</span>
            </div>
            <div class="muted">Clientes e propostas por cliente.</div>
            <div class="panel-meta">Visao ampla da operacao.</div>
          </a>
          <a class="panel-card" href="{% url 'usuarios' %}" style="--delay: 0.2s;">
            <div class="panel-card-top">
              <div class="panel-title">Usuarios</div>
              <span class="panel-tag active">Ativo</span>
            </div>
            <div class="muted">Criacao e gestao de usuarios.</div>
            <div class="panel-meta">Perfis, acessos e times.</div>
          </a>
        </div>
      </div>
    {% endif %}
  </section>
{% endblock %}
