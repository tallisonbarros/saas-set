{% extends "core/base.html" %}
{% load static %}

{% block title %}Painel{% endblock %}

{% block breadcrumbs %}
  <nav class="page-crumbs" aria-label="Breadcrumb">
    <span>Painel</span>
  </nav>
{% endblock %}

{% block content %}
  <section class="card panel-shell">
    <div class="page-hud panel-hud">
      <div class="hud-top">
        <div class="hud-title">Painel de Controle</div>
      </div>
      <div class="page-hud-head panel-hero-head">
        <div>
          <div class="page-kicker">Plataforma SET</div>
          <h1 class="page-title">Bem vindo {{ display_name }}</h1>
        </div>
        <div class="page-actions"></div>
      </div>
      <div class="hud-meta">Acesso direto aos modulos principais da operacao.</div>
    </div>

    <div class="panel-section">
      <div class="panel-section-head">
        <div>
          <div class="panel-section-title">Modulos de operacao</div>
        </div>
      </div>
      <div class="panel-grid panel-grid-spaced apps-grid">
        <a class="panel-card" href="{% url 'propostas' %}" style="--delay: 0.05s;">
          <div class="panel-card-top">
            <div class="panel-title">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 6h14v12H5z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"></path>
                <path d="M8 10h8M8 14h5" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
              </svg>
              Propostas
            </div>
          </div>
          <div class="muted">Pipeline de aprovacoes e acompanhamento.</div>
        </a>
        <a class="panel-card" href="{% url 'financeiro' %}" style="--delay: 0.1s;">
          <div class="panel-card-top">
            <div class="panel-title">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 7h16v10H4z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"></path>
                <path d="M8 12h8" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
              </svg>
              Financeiro
            </div>
          </div>
          <div class="muted">Compras, gastos e controle por periodo.</div>
        </a>
        <a class="panel-card" href="{% url 'ios_list' %}" style="--delay: 0.15s;">
          <div class="panel-card-top">
            <div class="panel-title">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M7 6h10v4H7zM5 14h14v4H5z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"></path>
              </svg>
              Listas de IOs
            </div>
          </div>
          <div class="muted">Crie, revise e mantenha IOs atualizados.</div>
        </a>
        <a class="panel-card" href="{% url 'inventarios_list' %}" style="--delay: 0.25s;">
          <div class="panel-card-top">
            <div class="panel-title">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M6 5h12v4H6zM4 11h16v8H4z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"></path>
              </svg>
              Inventario da fabrica
            </div>
          </div>
          <div class="muted">Catalogo de motores, valvulas e equipamentos.</div>
        </a>
        <a class="panel-card" href="{% url 'listas_ip_list' %}" style="--delay: 0.2s;">
          <div class="panel-card-top">
            <div class="panel-title">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 8h16v8H4z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"></path>
                <path d="M7 12h3M14 12h3" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
              </svg>
              Listas de IPs
            </div>
          </div>
          <div class="muted">Controle de rede e acesso por projeto.</div>
        </a>
        <a class="panel-card" href="{% url 'radar_list' %}" style="--delay: 0.22s;">
          <div class="panel-card-top">
            <div class="panel-title">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <circle cx="12" cy="12" r="7" fill="none" stroke="currentColor" stroke-width="1.6"></circle>
                <path d="M12 5v7l4 4" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
              Radar de atividades
            </div>
          </div>
          <div class="muted">Trabalhos, atividades e status em tempo real.</div>
        </a>
        <div class="panel-card panel-disabled" style="--delay: 0.3s;">
          <div class="panel-card-top">
            <div class="panel-title">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M7 15h9a3 3 0 0 0 0-6 4.5 4.5 0 0 0-8.7-1.5A3.5 3.5 0 0 0 7 15z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"></path>
              </svg>
              Nuvem de projetos
            </div>
          </div>
          <div class="muted">Arquivos tecnicos, historicos e revisoes.</div>
        </div>
        <div class="panel-card panel-disabled" style="--delay: 0.35s;">
          <div class="panel-card-top">
            <div class="panel-title">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 16h16M6 16V6h12v10" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
              Planta conectada
            </div>
          </div>
          <div class="muted">Monitoramento de automacao e sensores.</div>
        </div>
      </div>
    </div>

    <div class="panel-section">
      <div class="panel-section-head">
        <div>
          <div class="panel-section-title">Aplicativos</div>
        </div>
      </div>
      <div class="panel-grid panel-grid-spaced apps-grid">
        {% if apps %}
          {% for app in apps %}
            <a class="panel-card app-card" href="{% url 'app_home' app.slug %}" style="--delay: 0.05s;{% if app.theme_color %}--app-accent: {{ app.theme_color }};{% endif %}">
              <div class="panel-card-top">
                <div class="panel-title">
                  {% if app.icon %}
                    <span class="app-icon" {% if app.theme_color %}style="--app-accent: {{ app.theme_color }};"{% endif %}>{{ app.icon }}</span>
                  {% else %}
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M7 5h10v14H7z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"></path>
                      <path d="M9 9h6M9 13h4" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
                    </svg>
                  {% endif %}
                  {{ app.nome }}
                </div>
              </div>
              <div class="muted">{{ app.descricao|default:"Aplicativo dedicado." }}</div>
            </a>
          {% endfor %}
        {% else %}
          <div class="muted">Nenhum aplicativo liberado ainda.</div>
        {% endif %}
      </div>
    </div>

    {% if role == "ADMIN" %}
      <div class="panel-section">
        <div class="panel-section-head">
          <div>
            <div class="panel-section-title">Controle do SAAS</div>
          </div>
        </div>
        <div class="panel-grid panel-grid-spaced">
          <a class="panel-card" href="/admin/" style="--delay: 0.05s;">
            <div class="panel-card-top">
              <div class="panel-title">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M12 4l2.5 4 4.5 1-3 3 1 5-5-2-5 2 1-5-3-3 4.5-1z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"></path>
                </svg>
                Administracao
              </div>
            </div>
            <div class="muted">Gerencie dados nucleares do sistema.</div>
          </a>
          <a class="panel-card" href="{% url 'ajustes_sistema' %}" style="--delay: 0.1s;">
            <div class="panel-card-top">
              <div class="panel-title">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M12 6a6 6 0 1 0 0 12 6 6 0 0 0 0-12z" fill="none" stroke="currentColor" stroke-width="1.6"></path>
                  <path d="M12 3v3M12 18v3M3 12h3M18 12h3" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
                </svg>
                Configuracoes do sistema
              </div>
            </div>
            <div class="muted">Parametros gerais e cadastros base.</div>
          </a>
          <a class="panel-card" href="/admin/explorar/" style="--delay: 0.15s;">
            <div class="panel-card-top">
              <div class="panel-title">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M4 6h16M4 12h10M4 18h7" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
                </svg>
                Explorar
              </div>
            </div>
            <div class="muted">Clientes e propostas por cliente.</div>
          </a>
          <a class="panel-card" href="{% url 'ingest_gerenciar' %}" style="--delay: 0.18s;">
            <div class="panel-card-top">
              <div class="panel-title">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M4 16h16M6 16V6h12v10" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
                INGEST_GERENCIAR
              </div>
            </div>
            <div class="muted">Lotes recebidos e limpeza de registros.</div>
          </a>
          <a class="panel-card" href="{% url 'usuarios' %}" style="--delay: 0.2s;">
            <div class="panel-card-top">
              <div class="panel-title">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <circle cx="8" cy="9" r="3" fill="currentColor"></circle>
                  <circle cx="16" cy="10" r="2.5" fill="currentColor"></circle>
                  <path d="M4 19c0-2.2 1.8-4 4-4s4 1.8 4 4" fill="none" stroke="currentColor" stroke-width="1.6"></path>
                  <path d="M12 19c.3-1.6 1.7-2.8 3.4-2.8 1.8 0 3.3 1.2 3.6 2.8" fill="none" stroke="currentColor" stroke-width="1.6"></path>
                </svg>
                Usuarios
              </div>
            </div>
            <div class="muted">Criacao e gestao de usuarios.</div>
          </a>
          <a class="panel-card" href="{% url 'apps_gerenciar' %}" style="--delay: 0.25s;">
            <div class="panel-card-top">
              <div class="panel-title">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <rect x="4" y="5" width="16" height="14" rx="2" fill="none" stroke="currentColor" stroke-width="1.6"></rect>
                  <path d="M8 9h8M8 13h6" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
                </svg>
                Aplicativos
              </div>
            </div>
            <div class="muted">Cadastro e acesso aos apps dedicados.</div>
          </a>
          <a class="panel-card" href="{% url 'admin_logs' %}" style="--delay: 0.3s;">
            <div class="panel-card-top">
              <div class="panel-title">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M5 6h14v12H5z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"></path>
                  <path d="M8 10h8M8 14h5" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
                </svg>
                Monitoramento de uso
              </div>
            </div>
            <div class="muted">Usuarios e modulos acessados.</div>
          </a>
        </div>
      </div>
    {% endif %}
  </section>
{% endblock %}
