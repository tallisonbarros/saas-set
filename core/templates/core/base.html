{% load static %}
<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}SET{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'core/styles.css' %}">
    <link rel="icon" type="image/png" href="{% static 'core/favicon_s.png' %}">
  </head>
  <body class="{% block body_class %}page{% endblock %}">
    <div class="bg"></div>
    {% block header %}
      <header class="site-header">
        <div class="nav-shell">
          <div class="nav-top">
            <span class="version-badge" aria-label="Versao Beta">Versao Beta</span>
            {% if request.user.is_authenticated %}
              <div class="nav-actions user-actions-bar">
                <a class="profile-icon-btn" href="{% url 'meu_perfil' %}" title="Meu Perfil" aria-label="Meu Perfil">
                  <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Z" fill="none" stroke="currentColor" stroke-width="1.6"></path>
                    <path d="M4 20a8 8 0 0 1 16 0" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
                  </svg>
                </a>
                {% with display_name=request.user.get_full_name|default:request.user.first_name|default:"Usuario" %}
                  <span class="nav-user">Logado: {{ display_name }}</span>
                {% endwith %}
                <form method="post" action="{% url 'logout' %}">
                  {% csrf_token %}
                  <button class="btn btn-ghost btn-compact logout-btn" type="submit" aria-label="Sair">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                      <path d="M10 6H5a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h5" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
                      <path d="M15 16l4-4-4-4" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path>
                      <path d="M9 12h10" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path>
                    </svg>
                    <span class="logout-text">Sair</span>
                  </button>
                </form>
              </div>
            {% endif %}
          </div>
          <a class="brand brand-centered" href="{% if request.user.is_authenticated %}{% url 'painel' %}{% else %}{% url 'home' %}{% endif %}">
            <img class="logo logo-small" src="{% static 'core/logoset.png' %}" alt="Logo">
          </a>
          {% if request.user.is_authenticated %}
            {% if request.resolver_match.url_name != 'painel' and request.resolver_match.url_name != 'home' and request.resolver_match.url_name != 'login' %}
              <div class="panel-icon-row">
                <a class="btn btn-ghost icon-only panel-icon-btn" href="{% url 'painel' %}" title="Painel" aria-label="Painel">
                  <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M4 11.5L12 4l8 7.5v7.5a1 1 0 0 1-1 1h-4.5v-6h-5v6H5a1 1 0 0 1-1-1z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round" stroke-linecap="round"></path>
                  </svg>
                </a>
              </div>
            {% endif %}
          {% else %}
          {% endif %}
        </div>
      </header>
    {% endblock %}
    <main class="main">
      {% block breadcrumbs %}{% endblock %}
      {% block content %}{% endblock %}
    </main>
    {% block footer %}
      <footer class="site-footer">
        <div class="slogan">Ind√∫stria e tecnologia.</div>
        <a href="https://www.setbrasil.com" target="_blank" rel="noreferrer">www.setbrasil.com</a>
      </footer>
    {% endblock %}
  </body>
</html>
